(function(n,t){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.0",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(n,t,i){Foundation.inherit(this,"throttle");this.bindings(t,i);this.reflow()},events:function(){var i=this;n(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+i.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(t){i.cache.active||(t.preventDefault(),i.set_active_slider(n(t.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(r){if(!!i.cache.active)if(r.preventDefault(),n.data(i.cache.active[0],"settings").vertical){var u=0;r.pageY||(u=t.scrollY);i.calculate_position(i.cache.active,i.get_cursor_position(r,"y")+u)}else i.calculate_position(i.cache.active,i.get_cursor_position(r,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(){i.remove_active_slider()}).on("change.fndtn.slider",function(){i.settings.on_change()});i.S(t).on("resize.fndtn.slider",i.throttle(function(){i.reflow()},300))},get_cursor_position:function(n,t){var u="page"+t.toUpperCase(),r="client"+t.toUpperCase(),i;return typeof n[u]!="undefined"?i=n[u]:typeof n.originalEvent[r]!="undefined"?i=n.originalEvent[r]:n.originalEvent.touches&&n.originalEvent.touches[0]&&typeof n.originalEvent.touches[0][r]!="undefined"?i=n.originalEvent.touches[0][r]:n.currentPoint&&typeof n.currentPoint[t]!="undefined"&&(i=n.currentPoint[t]),i},set_active_slider:function(n){this.cache.active=n},remove_active_slider:function(){this.cache.active=null},calculate_position:function(t,i){var u=this,r=n.data(t[0],"settings"),o=n.data(t[0],"handle_l"),s=n.data(t[0],"handle_o"),f=n.data(t[0],"bar_l"),e=n.data(t[0],"bar_o");requestAnimationFrame(function(){var n,o;n=Foundation.rtl&&!r.vertical?u.limit_to((e+f-i)/f,0,1):u.limit_to((i-e)/f,0,1);n=r.vertical?1-n:n;o=u.normalized_value(n,r.start,r.end,r.step,r.precision);u.set_ui(t,o)})},set_ui:function(t,i){var r=n.data(t[0],"settings"),f=n.data(t[0],"handle_l"),e=n.data(t[0],"bar_l"),o=this.normalized_percentage(i,r.start,r.end),u=o*(e-f)-1,s=o*100,c=t.parent(),h=t.parent().children("input[type=hidden]");Foundation.rtl&&!r.vertical&&(u=-u);u=r.vertical?-u+e-f+1:u;this.set_translate(t,u,r.vertical);r.vertical?t.siblings(".range-slider-active-segment").css("height",s+"%"):t.siblings(".range-slider-active-segment").css("width",s+"%");c.attr(this.attr_name(),i).trigger("change").trigger("change.fndtn.slider");h.val(i);r.trigger_input_change&&h.trigger("change");t[0].hasAttribute("aria-valuemin")||t.attr({"aria-valuemin":r.start,"aria-valuemax":r.end});t.attr("aria-valuenow",i);r.display_selector!=""&&n(r.display_selector).each(function(){this.hasOwnProperty("value")?n(this).val(i):n(this).text(i)})},normalized_percentage:function(n,t,i){return Math.min(1,(n-t)/(i-t))},normalized_value:function(n,t,i,r,u){var e=i-t,f=n*e,o=(f-f%r)/r,s=f%r,h=s>=r*.5?r:0;return(o*r+h+t).toFixed(u)},set_translate:function(t,i,r){r?n(t).css("-webkit-transform","translateY("+i+"px)").css("-moz-transform","translateY("+i+"px)").css("-ms-transform","translateY("+i+"px)").css("-o-transform","translateY("+i+"px)").css("transform","translateY("+i+"px)"):n(t).css("-webkit-transform","translateX("+i+"px)").css("-moz-transform","translateX("+i+"px)").css("-ms-transform","translateX("+i+"px)").css("-o-transform","translateX("+i+"px)").css("transform","translateX("+i+"px)")},limit_to:function(n,t,i){return Math.min(Math.max(n,t),i)},initialize_settings:function(t){var i=n.extend({},this.settings,this.data_options(n(t).parent())),r;i.precision===null&&(r=(""+i.step).match(/\.([\d]*)/),i.precision=r&&r[1]?r[1].length:0);i.vertical?(n.data(t,"bar_o",n(t).parent().offset().top),n.data(t,"bar_l",n(t).parent().outerHeight()),n.data(t,"handle_o",n(t).offset().top),n.data(t,"handle_l",n(t).outerHeight())):(n.data(t,"bar_o",n(t).parent().offset().left),n.data(t,"bar_l",n(t).parent().outerWidth()),n.data(t,"handle_o",n(t).offset().left),n.data(t,"handle_l",n(t).outerWidth()));n.data(t,"bar",n(t).parent());n.data(t,"settings",i)},set_initial_position:function(t){var i=n.data(t.children(".range-slider-handle")[0],"settings"),r=typeof i.initial=="number"&&!isNaN(i.initial)?i.initial:Math.floor((i.end-i.start)*.5/i.step)*i.step+i.start,u=t.children(".range-slider-handle");this.set_ui(u,r)},set_value:function(t){var i=this;n("["+i.attr_name()+"]",this.scope).each(function(){n(this).attr(i.attr_name(),t)});!n(this.scope).attr(i.attr_name())||n(this.scope).attr(i.attr_name(),t);i.reflow()},reflow:function(){var t=this;t.S("["+this.attr_name()+"]").each(function(){var i=n(this).children(".range-slider-handle")[0],r=n(this).attr(t.attr_name());t.initialize_settings(i);r?t.set_ui(n(i),parseFloat(r)):t.set_initial_position(n(this))})}}})(jQuery,window,window.document);
//# sourceMappingURL=foundation.slider.min.js.map
