(function(n,t,i,r){"use strict";function u(n){var t=/fade/i.test(n),i=/pop/i.test(n);return{animate:t||i,pop:i,fade:t}}Foundation.libs.reveal={name:"reveal",version:"5.5.0",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",bg_root_element:"body",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:n(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,i,r){n.extend(!0,this.settings,i,r);this.bindings(i,r)},events:function(){var n=this,t=n.S;t(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(i){var r,u,f;i.preventDefault();n.locked||(r=t(this),u=r.data(n.data_attr("reveal-ajax")),n.locked=!0,typeof u=="undefined"?n.open.call(n,r):(f=u===!0?r.attr("href"):u,n.open.call(n,r,{url:f})))});t(i).on("click.fndtn.reveal",this.close_targets(),function(i){if(i.preventDefault(),!n.locked){var r=t("["+n.attr_name()+"].open").data(n.attr_name(!0)+"-init")||n.settings,u=t(i.target)[0]===t("."+r.bg_class)[0];if(u)if(r.close_on_background_click)i.stopPropagation();else return;n.locked=!0;n.close.call(n,u?t("["+n.attr_name()+"].open"):t(this).closest("["+n.attr_name()+"]"))}});if(t("["+n.attr_name()+"]",this.scope).length>0)t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video);else t(this.scope).on("open.fndtn.reveal","["+n.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+n.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.close_video);return!0},key_up_on:function(){var n=this;n.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(t){var i=n.S("["+n.attr_name()+"].open"),r=i.data(n.attr_name(!0)+"-init")||n.settings;r&&t.which===27&&r.close_on_esc&&!n.locked&&n.close.call(n,i)});return!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(i,r){var f=this,u,e,o,s;if(i?typeof i.selector!="undefined"?u=f.S("#"+i.data(f.data_attr("reveal-id"))).first():(u=f.S(this.scope),r=i):u=f.S(this.scope),e=u.data(f.attr_name(!0)+"-init"),e=e||this.settings,u.hasClass("open")&&i.attr("data-reveal-id")==u.attr("id"))return f.close(u);u.hasClass("open")||(o=f.S("["+f.attr_name()+"].open"),typeof u.data("css-top")=="undefined"&&u.data("css-top",parseInt(u.css("top"),10)).data("offset",this.cache_offset(u)),this.key_up_on(u),u.trigger("open").trigger("open.fndtn.reveal"),o.length<1&&this.toggle_bg(u,!0),typeof r=="string"&&(r={url:r}),typeof r!="undefined"&&r.url?(s=typeof r.success!="undefined"?r.success:null,n.extend(r,{success:function(t,i,r){if(n.isFunction(s)){var h=s(t,i,r);typeof h=="string"&&(t=h)}u.html(t);f.S(u).foundation("section","reflow");f.S(u).children().foundation();o.length>0&&f.hide(o,e.css.close);f.show(u,e.css.open)}}),n.ajax(r)):(o.length>0&&this.hide(o,e.css.close),this.show(u,e.css.open)));f.S(t).trigger("resize")},close:function(n){var n=n&&n.length?n:this.S(this.scope),t=this.S("["+this.attr_name()+"].open"),i=n.data(this.attr_name(!0)+"-init")||this.settings;t.length>0&&(this.locked=!0,this.key_up_off(n),n.trigger("close").trigger("close.fndtn.reveal"),this.toggle_bg(n,!1),this.hide(t,i.css.close,i))},close_targets:function(){var n="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?n+", ."+this.settings.bg_class:n},toggle_bg:function(t,i,u){var e=t.data(this.attr_name(!0)+"-init")||this.settings,o=e.bg_root_element,f;this.S("."+this.settings.bg_class).length===0&&(this.settings.bg=n("<div />",{"class":this.settings.bg_class}).appendTo(o).hide());f=this.settings.bg.filter(":visible").length>0;u!=f&&((u==r?f:!u)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(t,i){var f,s,e,o,r;if(i){if(r=t.data(this.attr_name(!0)+"-init")||this.settings,f=r.root_element,t.parent(f).length===0){s=t.wrap('<div style="display: none;" />').parent();t.on("closed.fndtn.reveal.wrapped",function(){t.detach().appendTo(s);t.unwrap().unbind("closed.fndtn.reveal.wrapped")});t.detach().appendTo(f)}return(e=u(r.animation),e.animate||(this.locked=!1),e.pop)?(i.top=n(f).scrollTop()-t.data("offset")+"px",o={top:n(f).scrollTop()+t.data("css-top")+"px",opacity:1},setTimeout(function(){return t.css(i).animate(o,r.animation_speed,"linear",function(){this.locked=!1;t.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),r.animation_speed/2)):e.fade?(i.top=n(f).scrollTop()+t.data("css-top")+"px",o={opacity:1},setTimeout(function(){return t.css(i).animate(o,r.animation_speed,"linear",function(){this.locked=!1;t.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),r.animation_speed/2)):t.css(i).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}return(r=this.settings,u(r.animation).fade)?t.fadeIn(r.animation_speed/2):(this.locked=!1,t.show())},hide:function(t,i){var f,r;if(i){var r=t.data(this.attr_name(!0)+"-init")||this.settings,o=r.root_element,e=u(r.animation);return(e.animate||(this.locked=!1),e.pop)?(f={top:-n(o).scrollTop()-t.data("offset")+"px",opacity:0},setTimeout(function(){return t.animate(f,r.animation_speed,"linear",function(){this.locked=!1;t.css(i).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),r.animation_speed/2)):e.fade?(f={opacity:0},setTimeout(function(){return t.animate(f,r.animation_speed,"linear",function(){this.locked=!1;t.css(i).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),r.animation_speed/2)):t.hide().css(i).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}return(r=this.settings,u(r.animation).fade)?t.fadeOut(r.animation_speed/2):t.hide()},close_video:function(t){var r=n(".flex-video",t.target),i=n("iframe",r);i.length>0&&(i.attr("data-src",i[0].src),i.attr("src",i.attr("src")),r.hide())},open_video:function(t){var u=n(".flex-video",t.target),i=u.find("iframe"),f,e;i.length>0&&(f=i.attr("data-src"),typeof f=="string"?i[0].src=i.attr("data-src"):(e=i[0].src,i[0].src=r,i[0].src=e),u.show())},data_attr:function(n){return this.namespace.length>0?this.namespace+"-"+n:n},cache_offset:function(n){var t=n.show().height()+parseInt(n.css("top"),10);return n.hide(),t},off:function(){n(this.scope).off(".fndtn.reveal")},reflow:function(){}}})(jQuery,window,window.document);
//# sourceMappingURL=foundation.reveal.min.js.map
