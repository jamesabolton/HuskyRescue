(function(n,t,i){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.5.0",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(t,i,r){Foundation.inherit(this,"throttle");n.extend(!0,this.settings,i,r);this.bindings(i,r)},events:function(){var i=this,r=i.S;r(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(t){var u=r(this).data(i.attr_name(!0)+"-init")||i.settings;(!u.is_hover||Modernizr.touch)&&(t.preventDefault(),r(this).parent("[data-reveal-id]")&&t.stopPropagation(),i.toggle(n(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(n){var t=r(this),u,f,e;clearTimeout(i.timeout);t.data(i.data_attr())?(u=r("#"+t.data(i.data_attr())),f=t):(u=t,f=r("["+i.attr_name()+'="'+u.attr("id")+'"]'));e=f.data(i.attr_name(!0)+"-init")||i.settings;r(n.currentTarget).data(i.data_attr())&&e.is_hover&&i.closeall.call(i);e.is_hover&&i.open.apply(i,[u,f])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var n=r(this),u,t;n.data(i.data_attr())?t=n.data(i.data_attr(!0)+"-init")||i.settings:(u=r("["+i.attr_name()+'="'+r(this).attr("id")+'"]'),t=u.data(i.attr_name(!0)+"-init")||i.settings);i.timeout=setTimeout(function(){n.data(i.data_attr())?t.is_hover&&i.close.call(i,r("#"+n.data(i.data_attr()))):t.is_hover&&i.close.call(i,n)}.bind(this),t.hover_timeout)}).on("click.fndtn.dropdown",function(t){var u=r(t.target).closest("["+i.attr_name()+"-content]"),f=u.find("a");if(f.length>0&&u.attr("aria-autoclose")!=="false"&&i.close.call(i,r("["+i.attr_name()+"-content]")),!(r(t.target).closest("["+i.attr_name()+"]").length>0)){if(!r(t.target).data("revealId")&&u.length>0&&(r(t.target).is("["+i.attr_name()+"-content]")||n.contains(u.first()[0],t.target))){t.stopPropagation();return}i.close.call(i,r("["+i.attr_name()+"-content]"))}}).on("opened.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.closed.call(this)});r(t).off(".dropdown").on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50));this.resize()},close:function(t){var i=this;t.each(function(){var r=n("["+i.attr_name()+"="+t[0].id+"]")||n("aria-controls="+t[0].id+"]");r.attr("aria-expanded","false");i.S(this).hasClass(i.settings.active_class)&&(i.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(i.settings.active_class).prev("["+i.attr_name()+"]").removeClass(i.settings.active_class).removeData("target"),i.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[t]))});t.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var t=this;n.each(t.S(".f-open-"+this.attr_name(!0)),function(){t.close.call(t,t.S(this))})},open:function(n,t){this.css(n.addClass(this.settings.active_class),t);n.prev("["+this.attr_name()+"]").addClass(this.settings.active_class);n.data("target",t.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[n,t]);n.attr("aria-hidden","false");t.attr("aria-expanded","true");n.focus();n.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(n){if(!n.hasClass(this.settings.disabled_class)){var t=this.S("#"+n.data(this.data_attr()));t.length!==0&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(t)),t.hasClass(this.settings.active_class)?(this.close.call(this,t),t.data("target")!==n.get(0)&&this.open.call(this,t,n)):this.open.call(this,t,n))}},resize:function(){var n=this.S("["+this.attr_name()+"-content].open"),t=this.S("["+this.attr_name()+'="'+n.attr("id")+'"]');n.length&&t.length&&this.css(n,t)},css:function(n,t){var u=Math.max((t.width()-n.width())/2,8),i=t.data(this.attr_name(!0)+"-init")||this.settings,r;return this.clear_idx(),this.small()?(r=this.dirs.bottom.call(n,t,i),n.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:r.top}),n.css(Foundation.rtl?"right":"left",u)):this.style(n,t,i),n},style:function(t,i,r){var u=n.extend({position:"absolute"},this.dirs[r.align].call(t,i,r));t.attr("style","").css(u)},dirs:{_base:function(n){var s=this.offsetParent(),e=s.offset(),r=n.offset(),f,u,o;return r.top-=e.top,r.left-=e.left,r.missRight=!1,r.missTop=!1,r.missLeft=!1,r.leftRightFlag=!1,f=i.getElementsByClassName("row")[0]?i.getElementsByClassName("row")[0].clientWidth:t.outerWidth,u=(t.outerWidth-f)/2,o=f,this.hasClass("mega")||(n.offset().top<=this.outerHeight()&&(r.missTop=!0,o=t.outerWidth-u,r.leftRightFlag=!0),n.offset().left+this.outerWidth()>n.offset().left+u&&n.offset().left-u>this.outerWidth()&&(r.missRight=!0,r.missLeft=!1),n.offset().left-this.outerWidth()<=0&&(r.missLeft=!0,r.missRight=!1)),r},top:function(n,t){var r=Foundation.libs.dropdown,i=r.dirs._base.call(this,n);return(this.addClass("drop-top"),i.missTop==!0&&(i.top=i.top+n.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),i.missRight==!0&&(i.left=i.left-this.outerWidth()+n.outerWidth()),(n.outerWidth()<this.outerWidth()||r.small()||this.hasClass(t.mega_menu))&&r.adjust_pip(this,n,t,i),Foundation.rtl)?{left:i.left-this.outerWidth()+n.outerWidth(),top:i.top-this.outerHeight()}:{left:i.left,top:i.top-this.outerHeight()}},bottom:function(n,t){var r=Foundation.libs.dropdown,i=r.dirs._base.call(this,n);return(i.missRight==!0&&(i.left=i.left-this.outerWidth()+n.outerWidth()),(n.outerWidth()<this.outerWidth()||r.small()||this.hasClass(t.mega_menu))&&r.adjust_pip(this,n,t,i),r.rtl)?{left:i.left-this.outerWidth()+n.outerWidth(),top:i.top+n.outerHeight()}:{left:i.left,top:i.top+n.outerHeight()}},left:function(n){var t=Foundation.libs.dropdown.dirs._base.call(this,n);return this.addClass("drop-left"),t.missLeft==!0&&(t.left=t.left+this.outerWidth(),t.top=t.top+n.outerHeight(),this.removeClass("drop-left")),{left:t.left-this.outerWidth(),top:t.top}},right:function(n,t){var i=Foundation.libs.dropdown.dirs._base.call(this,n),r;return this.addClass("drop-right"),i.missRight==!0?(i.left=i.left-this.outerWidth(),i.top=i.top+n.outerHeight(),this.removeClass("drop-right")):i.triggeredRight=!0,r=Foundation.libs.dropdown,(n.outerWidth()<this.outerWidth()||r.small()||this.hasClass(t.mega_menu))&&r.adjust_pip(this,n,t,i),{left:i.left+n.outerWidth(),top:i.top}}},adjust_pip:function(n,t,i,r){var f=Foundation.stylesheet,u=8;n.hasClass(i.mega_class)?u=r.left+t.outerWidth()/2-8:this.small()&&(u+=r.left-8);this.rule_idx=f.cssRules.length;var e=".f-dropdown.open:before",o=".f-dropdown.open:after",s="left: "+u+"px;",h="left: "+(u-1)+"px;";r.missRight==!0&&(u=n.outerWidth()-23,e=".f-dropdown.open:before",o=".f-dropdown.open:after",s="left: "+u+"px;",h="left: "+(u-1)+"px;");r.triggeredRight==!0&&(e=".f-dropdown.open:before",o=".f-dropdown.open:after",s="left:-12px;",h="left:-14px;");f.insertRule?(f.insertRule([e,"{",s,"}"].join(" "),this.rule_idx),f.insertRule([o,"{",h,"}"].join(" "),this.rule_idx+1)):(f.addRule(e,s,this.rule_idx),f.addRule(o,h,this.rule_idx+1))},clear_idx:function(){var n=Foundation.stylesheet;typeof this.rule_idx!="undefined"&&(n.deleteRule(this.rule_idx),n.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown");this.S("html, body").off(".fndtn.dropdown");this.S(t).off(".fndtn.dropdown");this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}})(jQuery,window,window.document);
//# sourceMappingURL=foundation.dropdown.min.js.map
